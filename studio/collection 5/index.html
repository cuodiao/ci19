<!DOCTYPE html>
<html>
<head>
 <title>collection</title>
<link rel="stylesheet" type="text/css" href="style.css">
<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
<div id="bg">
<div class="age">
<div class = "content">
 <p class="list" id="first1">Age 3-5</p >
 <p class="list" id="second1">Age 6-12</p >
 <p class="list" id="thrid1">Age 13-15</p >
 <p class="list" id="fourth1">Age 16-18</p >
 <p class="list" id="fifth1">now</p >
 </div>
</div>

<div id="games"></div>


<div class="time"> 
 <div class = "blank"></div>
 <div class = "content">
 <p style = "color: #7FAC97;">3000-1000 B.C.</p >
 <p style = "color: #C5C5A5;">1000-0 B.C.</p >
 <p style = "color: #F6CAA9;">0-500A.D.</p >
 <p style = "color: #F5BB19;">500-1500A.D.</p >
 <p style = "color: #EE8314;">16th century</p >
 <p style = "color: #F19794;">17th century</p >
 <p style = "color: #E8435F;">18th century</p >
 <p style = "color: #A53956;">19th century</p >
 <p style = "color: #851D40;">20th century</p >
 <p style = "color: #45285B;">contemporary</p >

 </div>
</div>
</div>
<!-- <iframe>
<video>
 
</video>
</iframe>
 -->
    
<script>
var vid = document.createElement("iframe");
    
var diyizu
var dierzu
var url = "https://raw.githubusercontent.com/WenpeiWang/ci19/master/studio/collection/mydata2.json"
 fetch(url)
 .then(function(response){return response.json();})
 .then(function(json){ buildPage(json);})


 function buildPage(data){
for(var i = 0; i < data.length; i = i + 1){
 var one = document.createElement("div");
 var name = data[i].ban;
 var fenzu = data[i].fenzu;
 var heihei = data[i].heihei;
 var url = data[i].url;

 console.log(name);
 newname = "'" + name + "'";

 one.classList.add(name);
 one.classList.add(fenzu);
 one.classList.add(heihei);
 
 document.getElementById("games").appendChild(one);

 one.innerHTML = data[i].name;




 (function(index){

  one.onclick=function(){
   document.getElementById("bg").appendChild(vid); 
   $(vid).show();
   $('.list').css('color', 'red');
   $(document).click(function(event) {
    var text = $(event.target).text();
    console.log(text);
   
    for (var i = 0; i < 100; i++) {
  if (data[i].name == text) {

   

    break;
  }
}
  console.log(i);
   var url = data[i].url;

var url = url.replace("watch?v=", "embed/", + "?autoplay=1&mute=1");
console.log(url);
    
    vid.setAttribute("src", url);
    vid.setAttribute("?autoplay=1&mute=1")
    // vid.setAttribute("height", "500");
    console.log(vid);
    

});
   // setthe attribute
   // console.log("hi")
  }

 })(i);
}
}
$("#first1").click(function(){
  $(".liudaoshier").hide();
  $(".sandaowu").show();
  $(".shisandaoshiwu").hide();
  $(".shiliudaoshiba").hide();
  $(".now").hide();
  $('.list').css('color', 'black');
 });
$("#second1").click(function(){
  // $(vid).hide();
  $(".liudaoshier").show();
  $(".sandaowu").hide();
  $(".shisandaoshiwu").hide();
  $(".shiliudaoshiba").hide();
  $(".now").hide();
  $('.list').css('color', 'black');
 });
$("#thrid1").click(function(){
  // $(vid).hide();
  $(".liudaoshier").hide();
  $(".sandaowu").hide();
  $(".shiliudaoshiba").hide();
  $(".shisandaoshiwu").show();
  $(".now").hide();
  $('.list').css('color', 'black');
 });
$("#fourth1").click(function(){
  // $(vid).hide();
  $(".liudaoshier").hide();
  $(".sandaowu").hide();
  $(".shiliudaoshiba").show();
  $(".shisandaoshiwu").hide();
  $(".now").hide();
  $('.list').css('color', 'black');
 });
$("#fifth1").click(function(){
  // $(vid).hide();
  $(".liudaoshier").hide();
  $(".sandaowu").hide();
  $(".shiliudaoshiba").hide();
  $(".shisandaoshiwu").hide();
  $(".shisandaoshiwu").hide();
  $(".now").show();
  $('.list').css('color', 'black');
 });



let index = 1;
const NUM_ICOS = 10;

setInterval(function () {

 index = index > NUM_ICOS ? 1 : index;

 const css = document.body.style.cssText.split(';');

 document.body.style.cssText = css.filter(function (ele) {
  ele.split(':')[0] !== 'cursor';
 }).join(';') + ';cursor: url("./icos/' + index + '.ico"), default;';
 
 index ++;
}, 400);

</script>
<style>

}
</style>
</body>
</html>